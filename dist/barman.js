!function(e){function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),c=t(1),u=n(c),s="Service %service% is declared as parameter but could not be find in configuration",f=function(){function e(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this.bottle=new u["default"],r.services||(r.services=[]),this.config=r,this.initialize()}return a(e,[{key:"initialize",value:function(){this.checkConfigDependencies(this.config),this.registerParameters(),this.registerServices()}},{key:"getContainer",value:function(){return this.bottle.container}},{key:"get",value:function(e){return this.getContainer()[e]}},{key:"getParameter",value:function(e){return this.getContainer()[e]}},{key:"registerParameters",value:function(){if(this.config.parameters){var e=this.config.parameters;for(var r in e)this.bottle.value(r,e[r])}}},{key:"registerServices",value:function(){var e=this;if(this.config.services)for(var r=this.config.services.slice();r.length>0;)for(var t in r)try{!function(){var n=e.config.services[t];e.checkContainerDependencies(e.config,n),e.registerService(n),r=r.filter(function(e){return e.name!==n.name})}()}catch(n){if(!n.message.startsWith("Service dependency not found in container. Looked for "))throw n}}},{key:"registerService",value:function(e){this.bottle.factory(e.name,function(r){var t=[];for(var n in e.parameters)t.push(r[e.parameters[n]]);return new(Function.prototype.bind.apply(e.definition,[null].concat(t)))})}},{key:"checkConfigDependencies",value:function(e){if(e.services)for(var r in e.services){var t=e.services[r];if(t.parameters){if(!Array.isArray(t.parameters))throw new Error("Bad argument exception; Expect parameters to be array, "+o(t.parameters)+" given");for(var n in t.parameters)if(!this.configHasService(e,t.parameters[n]))throw new Error(s.replace("%service%",t.parameters[n]))}}}},{key:"findService",value:function(e,r){return e.services.find(function(e){return e.name===r})}},{key:"configHasService",value:function(e,r){return void 0!==this.findService(e,r)}},{key:"checkContainerDependencies",value:function(e,r){var t=r.parameters;if(void 0!==t)for(var n in t){var i=t[n],o=this.findService(e,i);if(void 0!==o&&void 0!==o.parameters&&-1!==o.parameters.indexOf(r.name))throw new Error("Cyclic dependency detected");if(void 0===this.bottle.container[t[n]])throw new Error("Service dependency not found in container. Looked for "+t[n])}}}],[{key:"shake",value:function(r){var t={};if(r.resources)for(var n in r.resources)t=e.merge(r,r.resources[n]);return t}},{key:"merge",value:function(e,r){var t=e;for(var n in e)if(r[n]){if(o(e[n])!==o(r[n]))throw new Error("Could not merge type "+o(e[n])+" with type "+o(r[n])+" on key "+n);if(Array.isArray(e[n])&&!Array.isArray(r[n])||!Array.isArray(e[n])&&Array.isArray(r[n])){var i=Array.isArray(e[n])?"array":o(e[n]),a=Array.isArray(r[n])?"array":o(r[n]);throw new Error("Could not merge type "+i+" with type "+a+" on key "+n)}Array.isArray(e[n])&&Array.isArray(r[n])?t[n]=e[n].concat(r[n]):"string"==typeof e[n]?t[n]=r[n]:t[n]=Object.assign({},e[n],r[n])}return t}}]),e}();r["default"]=f},function(e,r,t){var n;(function(e,i){(function(o){"use strict";var a=0,c=Array.prototype.slice,u=[],s=function(e,r){return e.concat(r)},f=function(e,r,t){var n=e[r];return n||(n=e[r]={}),t&&!n[t]&&(n[t]=[]),t?n[t]:n},l=function(e,r,t){return f(u,r,t).map(v.bind(null,e)).reduce(s,f(e,r,t)).concat(f(e,r,"__global__"))},v=function(e,r){return f(e,r.id,r.fullname)},p=function(e,r){var t=e[r];if(t===o&&q.strict)throw new Error("Bottle was unable to resolve a service.  `"+r+"` is undefined.");return t},d=function(e){return e.split(".").reduce(p,this)},h=function(e,r,t,n){"function"==typeof t&&(n=t,t="__global__"),f(e,r,t).push(n)},y=function(e,r){var t=e.split(".");return e=t.pop(),g.call(t.reduce(F,this.container),e,r),this},g=function(e,r){Object.defineProperty(this,e,{configurable:!1,enumerable:!0,value:r,writable:!1})},b=[],m=function(e,r){return h(b,this.id,e,r),this},w=[],k=function(e){return h(w,this.id,e),this},A=function(e){return(e||[]).map(d,this.container)},_=function(e,r){return T.call(this,e,function(){this.$get=r})},S=[],P=function(e,r,t,n){var i=l(S,e,r),o={configurable:!0,enumerable:!0};return i.length?o.get=function(){var e=0,r=function(n){if(n)throw n;i[e]&&i[e++](t,r)};return r(),t}:(o.value=t,o.writable=!0),Object.defineProperty(n,r,o),n[r]},E=function(e,r){return h(S,this.id,e,r),this},j={},x=function(e){var r;return e?(r=j[e],r||(j[e]=r=new W,r.constant("BOTTLE_NAME",e)),r):new W},C=[],O=[],$=function(e,r){return r(e)},T=function(e,r){var t,n,i,o;return n=f(O,this.id),t=e.split("."),n[e]&&1===t.length&&!this.container[e+"Provider"]?console.error(e+" provider already instantiated."):(n[e]=!0,i=t.shift(),o=t.length?D:B,o.call(this,i,r,e,t))},B=function(e,r){var t,n,i,a;return a=this.id,i=this.container,t=e+"Provider",n=Object.create(null),n[t]={configurable:!0,enumerable:!0,get:function(){var e=new r;return delete i[t],i[t]=e,e}},n[e]={configurable:!0,enumerable:!0,get:function(){var r,n=i[t];return n&&(r=l(b,a,e).reduce($,n.$get(i)),delete i[t],delete i[e]),r===o?r:P(a,e,r,i)}},Object.defineProperties(i,n),this},D=function(e,r,t,n){var i,o,a,c;return c=this.id,o=f(C,c),i=o[e],i||(this.container[e]=(i=o[e]=W.pop()).container),a=n.join("."),i.provider(a,r),h(u,i.id,a,{fullname:t,id:c}),this},L=function(e){var r=e.$value===o?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,r].concat(e.$inject||[]))},M=function(e){return f(w,this.id,"__global__").forEach(function(r){r(e)}),this},z=function(e,r){var t=arguments.length>2?c.call(arguments,2):null,n=this;return _.call(this,e,function(){return t&&(t=t.map(d,n.container),t.unshift(r),r=r.bind.apply(r,t)),new r})},H=function(e,r){var t;return t=e.split("."),e=t.pop(),N.call(t.reduce(F,this.container),e,r),this},F=function(e,r){var t=e[r];return t||(t={},N.call(e,r,t)),t},N=function(e,r){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:r,writable:!0})},W=function I(e){return this instanceof I?(this.id=a++,void(this.container={$register:L.bind(this)})):I.pop(e)};W.prototype={constant:y,decorator:m,defer:k,digest:A,factory:_,middleware:E,provider:T,register:L,resolve:M,service:z,value:H},W.pop=x;var q=W.config={strict:!1},G={"function":!0,object:!0};!function(a){var c=G[typeof r]&&r&&!r.nodeType&&r,u=G[typeof e]&&e&&!e.nodeType&&e,s=(u&&u.exports===c&&c,G[typeof i]&&i);!s||s.global!==s&&s.window!==s||(a=s),a.Bottle=W,n=function(){return W}.call(r,t,r,e),!(n!==o&&(e.exports=n))}(G[typeof window]&&window||this)}).call(this)}).call(r,t(2)(e),function(){return this}())},function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);